{% extends 'base.html' %}

{% load static %}
{% block css %}
{% endblock %}

{% block content %}

<div class="block-split">
    <div class="container">
      <div class="block-split__row no-gutters">
        <div class="block-split__item block-split__item-content col-auto">
          <div class="product product--layout--full">
            <div class="product__body">
              <div class="product__card product__card--one"></div>
              <div class="product__card product__card--two"></div>
              <div class="product-gallery product-gallery--layout--product-full product__gallery p-0" data-layout="product-full">
                <div class="product-gallery__featured">
                  <!-- <button data-toggle="modal" data-target="#imagedisplaymodal" class="product-gallery__zoom imagedisplaybtn" imgsrc="{{product.image}}">
                    <svg width="24" height="24">
                      <path d="M15,18c-2,0-3.8-0.6-5.2-1.7c-1,1.3-2.1,2.8-3.5,4.6c-2.2,2.8-3.4,1.9-3.4,1.9s-0.6-0.3-1.1-0.7
      c-0.4-0.4-0.7-1-0.7-1s-0.9-1.2,1.9-3.3c1.8-1.4,3.3-2.5,4.6-3.5C6.6,12.8,6,11,6,9c0-5,4-9,9-9s9,4,9,9S20,18,15,18z M15,2
      c-3.9,0-7,3.1-7,7s3.1,7,7,7s7-3.1,7-7S18.9,2,15,2z M16,13h-2v-3h-3V8h3V5h2v3h3v2h-3V13z"></path>
                    </svg>
                  </button> -->
                  <a class="image image--type--product" data-width="700" data-height="700">
                    <div class="">
                      
                      <img style="width:100%;" src="{% if product.image %}{{product.image.url}}{% else %}/media/default.png{% endif %}" alt="{{ i.name }}" loading="lazy" data-toggle="modal" data-target="#imagedisplaymodal" class="imagedisplaybtn">
                      
                    </div></a>
                </div>
                
              </div>
              <div class="product__header p-0">
                <h1 class="product__title">{{product.ref.upper}}</h1>
                <div class="d-flex justify-content-between">
                  <div>
                    <strong>
                      {{product.refeq1}}
                    </strong> <br>
                    <strong>
                      {{product.refeq2}}
                    </strong> <br>
                    <strong>
                      {{product.refeq3}}
                    </strong>
                    <br>
                    <strong style="color: blue">
                      Diametre: {{product.diametre}}
                    </strong>
                    <br>
                    <strong>
                      {{product.name}}
                    </strong>
                  </div>
                  
                </div>
                  <div class="ms-3">
                    {% for i in cars %}
                    <div>
                      {{i}}
                    </div>
                    {% endfor %}

                  </div>
              </div>
              <div>
              </div>
              <div class="product__info">

                <div class="product__info-card">
                  <div class="product__info-body">
                    {% if product.isoffer %}
                    <div class="product__badge tag-badge tag-badge--sale">
                      <strong>
                        {{product.offre}}
                      </strong>
                    </div>
                    {% endif %}
                    <div class="product__prices-stock">
                      <div class="product__prices">
                        <div class="product__price product__price--current">
                          {% if product.remise != 0 %}
                          <div >
                            
                            {{product.sellprice|floatformat:2}} 
                          </div>
                          <div class="text-danger" >({{product.remise}}%)</div>
                          {% else %}
                          <div >
                            {{product.prixnet|floatformat:2}}
                          </div>
                          <div class="text-danger" >(NET)</div>
                          {% endif %}

                        </div>
                      </div>
                      {% if product.stocktotal <= 0 %}
                    <div style="width:20px; height:20px; border-radius:50%; background:red;" ></div>
                    {% else %}
                      {% if product.stocktotal <= 5 %}
                      <div style="width:20px; height:20px; border-radius:50%; background:orange;" ></div>
                        
                        {% else %}
                        <div style="width:20px; height:20px; border-radius:50%; background:green;" >
                        </div>
                      {% endif %}
                          
                    {% endif %}
                      
                    </div>
                    <div class="product__meta">
                      <table>
                        <tbody>
                          
                          <tr>
                            <th>Marque</th>
                            <td>
                              <!-- hint: link to mark to display all products in mark -->
                              {% if product.mark.image %}
                              <img src="{{product.mark.image.url}}" width="100">
                              {% endif %}
                            </td>
                            
                          </tr>
                          <tr>
                           <th>Diametre</th>
                           <td>{{product.diametre}}</td>
                          </tr>
                          <tr>
                            <td class="text-center">
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                  <!-- <div class="product-form product__form">
                    <div class="product-form__body">
                      <div class="product-form__row">
                        <div class="product-form__title">Material</div>
                        <div class="product-form__control">
                          <div class="input-radio-label">
                            <div class="input-radio-label__list">
                              <label class="input-radio-label__item">
                                <input type="radio" name="material" class="input-radio-label__input">
                                <span class="input-radio-label__title">Steel</span>
                              </label>
                              <label class="input-radio-label__item">
                                <input type="radio" name="material" class="input-radio-label__input">
                                <span class="input-radio-label__title">Aluminium</span>
                              </label>
                              <label class="input-radio-label__item">
                                <input type="radio" name="material" class="input-radio-label__input" disabled="disabled">
                                <span class="input-radio-label__title">Thorium</span>
                              </label>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="product-form__row">
                        <div class="product-form__title">Color</div>
                        <div class="product-form__control">
                          <div class="input-radio-color">
                            <div class="input-radio-color__list">
                              <label class="input-radio-color__item input-radio-color__item--white" style="color: #fff;" data-toggle="tooltip" title="" data-original-title="White">
                                <input type="radio" name="color">
                                <span></span>
                              </label>
                              <label class="input-radio-color__item" style="color: #ffd333;" data-toggle="tooltip" title="" data-original-title="Yellow">
                                <input type="radio" name="color">
                                <span></span>
                              </label>
                              <label class="input-radio-color__item" style="color: #ff4040;" data-toggle="tooltip" title="" data-original-title="Red">
                                <input type="radio" name="color">
                                <span></span>
                              </label>
                              <label class="input-radio-color__item input-radio-color__item--disabled" style="color: #4080ff;" data-toggle="tooltip" title="" data-original-title="Blue">
                                <input type="radio" name="color" disabled="disabled">
                                <span></span>
                              </label>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div> -->
                  <div class="product__actions">
                    
                    <div class="product__actions-item product__actions-item--addtocart">
                        <div class="product__actions-item product__actions-item--quantity w-100">
                            <div class="input-number mb-3">
                              <input class="form-control input-number__input qty" type="number" min="{%if product.min%}{{product.min}}{%else%}1{%endif%}" value="{%if product.min%}{{product.min}}{%else%}1{%endif%}">
                              <div class="input-number__add"></div>
                              <div class="input-number__sub"></div>
                            </div>
                          </div>
                          <button class="btn btn-primary cmnd w-100" pdct="{{product.id}}" pdctref="{{product.ref}}" pdctname="{{product.name}}" pdctpr="{{product.sellprice}}" pdctid="{{product.id}}" pdctimg="{{product.image}}" pdctremise="{{product.remise|floatformat:-2}}" pdctcategory="{{product.category.title}}">
                        <svg width="32" height="32">
                            <circle cx="10.5" cy="27.5" r="2.5"></circle>
                            <circle cx="23.5" cy="27.5" r="2.5"></circle>
                            <path d="M26.4,21H11.2C10,21,9,20.2,8.8,19.1L5.4,4.8C5.3,4.3,4.9,4,4.4,4H1C0.4,4,0,3.6,0,3s0.4-1,1-1h3.4C5.8,2,7,3,7.3,4.3
                  l3.4,14.3c0.1,0.2,0.3,0.4,0.5,0.4h15.2c0.2,0,0.4-0.1,0.5-0.4l3.1-10c0.1-0.2,0-0.4-0.1-0.4C29.8,8.1,29.7,8,29.5,8H14
                  c-0.6,0-1-0.4-1-1s0.4-1,1-1h15.5c0.8,0,1.5,0.4,2,1c0.5,0.6,0.6,1.5,0.4,2.2l-3.1,10C28.5,20.3,27.5,21,26.4,21z"></path>
                          </svg>
                      </button>
                      <button class="btn btn-info mt-2 d-none anullercmnd w-100" data-id="{{product.id}}" onclick="anullercmnd(event, '{{product.id}}')">
                        Anuller
                      </button>
                    </div>
                    <div class="product__actions-divider"></div>
                    <!-- <button class="product__actions-item product__actions-item--wishlist" type="button">
                      <svg width="16" height="16">
                        <path d="M13.9,8.4l-5.4,5.4c-0.3,0.3-0.7,0.3-1,0L2.1,8.4c-1.5-1.5-1.5-3.8,0-5.3C2.8,2.4,3.8,2,4.8,2s1.9,0.4,2.6,1.1L8,3.7
      l0.6-0.6C9.3,2.4,10.3,2,11.3,2c1,0,1.9,0.4,2.6,1.1C15.4,4.6,15.4,6.9,13.9,8.4z"></path>
                      </svg>
                      <span>Add to wishlist</span>
                    </button>
                    <button class="product__actions-item product__actions-item--compare" type="button">
                      <svg width="16" height="16">
                        <path d="M9,15H7c-0.6,0-1-0.4-1-1V2c0-0.6,0.4-1,1-1h2c0.6,0,1,0.4,1,1v12C10,14.6,9.6,15,9,15z"></path>
                        <path d="M1,9h2c0.6,0,1,0.4,1,1v4c0,0.6-0.4,1-1,1H1c-0.6,0-1-0.4-1-1v-4C0,9.4,0.4,9,1,9z"></path>
                        <path d="M15,5h-2c-0.6,0-1,0.4-1,1v8c0,0.6,0.4,1,1,1h2c0.6,0,1-0.4,1-1V6C16,5.4,15.6,5,15,5z"></path>
                      </svg>
                      <span>Add to compare</span>
                    </button> -->
                  </div>
                  
                </div>
                
                <!--  free shaipping icons -->
                
              </div>
              <!--  description section  -->
              <div class="product__tabs product-tabs product-tabs--layout--full">
                <ul class="product-tabs__list" style="background: var(--darkblue); color: white">
                  <li class="product-tabs__item">
                    <a href="#product-tab-description">References Equivalents</a>
                  </li>
                  <li class="product-tabs__item">
                    <a href="#product-tab-specification">Dimenssion</a>
                  </li>
                 
                  <li class="product-tabs__item product-tabs__item--active">
                    <a href="#product-tab-analogs">Autre Marques</a>
                  </li>
                </ul>
                <div class="product-tabs__content" style="height: 17em;overflow: scroll;">
                  <div class="product-tabs__pane" id="product-tab-description">
                    <div class="typography">
                      {{product.equivalent}}
                    </div>
                  </div>
                  <div class="product-tabs__pane" id="product-tab-specification">
                    <div class="spec">
                      
                      <div class="spec__section">
                        <div class="spec__row">
                          <div class="spec__value">{{diamteres.0}}</div>
                        </div>
                        <div class="spec__row">
                          <div class="spec__value">{{diamteres.1}}</div>
                        </div>
                        <div class="spec__row">
                          <div class="spec__value">{{diamteres.2}}</div>
                        </div>
                        <div class="spec__row">
                          <div class="spec__value">{{diamteres.3}}</div>
                        </div>
                        <div class="spec__row">
                          <div class="spec__value">{{diamteres.4}}</div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="product-tabs__pane product-tabs__pane--active" id="product-tab-analogs">
                    <table class="analogs-table table table-bordered">
                      <thead>
                        <tr class="bg-darkblue text-white">
                          <th class="analogs-table__column analogs-table__column--name">Image</th>
                          <th class="analogs-table__column analogs-table__column--name">Ref</th>
                          <th class="analogs-table__column analogs-table__column--rating">Designation</th>
                          <th class="analogs-table__column analogs-table__column--vendor">Marque</th>
                          <th class="analogs-table__column analogs-table__column--price">Prix</th>
                        </tr>
                      </thead>
                      <tbody>
                        {% for i in simillars %}
                        <tr>
                          <td>
                            {% if i.image %}
                            <img  src="{{i.image.url}}" alt="{{ i.name }}" loading="lazy" data-toggle="modal" data-target="#imagedisplaymodal" class="imagedisplaybtn" style="width: 75px">
                            {% endif %}
                          </td>
                          <td class="analogs-table__column analogs-table__column--name">
                            {% if i.stocktotal %}
                              {% if i.stocktotal <= 0 %}
                              <div style="width:20px; height:20px; border-radius:50%; background:red;" ></div>
                              {% elif i.stocktotal <= 5 %}
                              <div style="width:20px; height:20px; border-radius:50%; background:orange;" ></div>
                              {% else %}
                                  <div style="width:20px; height:20px; border-radius:50%; background:green;" >
                                  </div>
                              {% endif %}
                            {% else %}
                              <div style="width:20px; height:20px; border-radius:50%; background:red;" >
                              </div>
                            {% endif %}
                            <a href="/product/{{i.id}}" class="analogs-table__product-name">{{i.ref.upper}}</a>
                            
                          </td>
                          <td class="analogs-table__column analogs-table__column--vendor" data-title="Vendor">{{i.name}}
                          </td>
                          <td class="analogs-table__column analogs-table__column--rating">
                            {% if i.mark.image %}
                            <img src="{{i.mark.image.url}}" width="70" style="width:70px;">
                            {% endif %}
                            {% if i.carlogos.image %}
                            <img src="{{i.carlogos.image.url}}" width="40" style="width:40px;">
                            {% endif %}
                          </td>
                          <td class="analogs-table__column analogs-table__column--price">{% if product.remise != 0 %}
                          <div >
                            
                            {{product.sellprice|floatformat:2}} 
                          </div>
                          <div class="text-danger" >({{product.remise}}%)</div>
                          {% else %}
                          <div >
                            {{product.prixnet|floatformat:2}}
                          </div>
                          <div class="text-danger" >(NET)</div>
                          {% endif %}</td>
                        </tr>
                        {% endfor %}
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- Button trigger modal -->

          <div class="block-space block-space--layout--divider-nl"></div>
        </div>
      </div>
    </div>
  </div>

{% endblock %}

{% block js %}
<script src="{% static 'js/catalog.js' %} "></script>
{% endblock %}
